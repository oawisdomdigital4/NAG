{% extends "admin/base_site.html" %}
{% load i18n admin_extras %}

{% block content %}
  <div class="dashboard">
    <div class="dashboard-row">
      <div class="dashboard-cards">
        <div class="card highlight">
          <div class="card-top">
            <h3>Users</h3>
            <span class="badge-gold">Admin</span>
          </div>
          <p class="card-value">{% model_count 'accounts' 'User' %}</p>
          <p class="card-sub">Active users</p>
        </div>

        <div class="card">
          <h3>Courses</h3>
          <p class="card-value">{% model_count 'community' 'Course' %}</p>
          <p class="card-sub">Published & drafts</p>
        </div>

        <div class="card">
          <h3>Partners</h3>
          <p class="card-value">{% model_count 'community' 'Partner' %}</p>
          <p class="card-sub">Partner logos</p>
        </div>

        <div class="card">
          <h3>Payments</h3>
          <p class="card-value">{% model_count 'payments' 'Payment' %}</p>
          <p class="card-sub">Transaction records</p>
        </div>
      </div>

      <aside class="dashboard-side">
        <div class="widget">
          <h4>Pending Verifications</h4>
          <p class="widget-count">{% filtered_count 'community' 'CorporateVerification' status='pending' %}</p>
          <a class="btn small" href="{% url 'admin:community_corporateverification_changelist' %}">Review</a>
        </div>

        <div class="widget">
          <h4>Unread Notifications</h4>
          <p class="widget-count">{% filtered_count 'community' 'Notification' read=False %}</p>
          <a class="btn small" href="{% url 'admin:notifications_notification_changelist' %}">View</a>
        </div>
      </aside>
    </div>

    <section class="dashboard-main">
      <div class="module">
        <h2>Quick Links</h2>
        <div class="quick-links">
          {% for app in app_list %}
            {% for model in app.models %}
              <a class="quick-link" href="{{ model.admin_url }}">{{ model.name }}</a>
            {% endfor %}
          {% endfor %}
        </div>
      </div>
    </section>
  </div>
{% endblock %}
