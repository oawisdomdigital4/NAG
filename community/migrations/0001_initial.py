# Generated by Django 4.2.26 on 2025-11-20 07:25

import community.models
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('courses', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Comment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField()),
                ('is_private_reply', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('author', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_comments', to=settings.AUTH_USER_MODEL)),
                ('parent_comment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', to='community.comment')),
            ],
        ),
        migrations.CreateModel(
            name='CommunityEngagementLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action_type', models.CharField(choices=[('click_action', 'Clicked Action'), ('like_post', 'Liked a Post'), ('unlike_post', 'Unliked a Post'), ('like_comment', 'Liked a Comment'), ('unlike_comment', 'Unliked a Comment'), ('comment_post', 'Commented on Post'), ('reply_comment', 'Replied to Comment'), ('mention_user', 'Mentioned a User'), ('join_group', 'Joined Group'), ('leave_group', 'Left Group'), ('view_post', 'Viewed Post'), ('share_post', 'Shared Post'), ('bookmark_post', 'Bookmarked Post'), ('unbookmark_post', 'Unbookmarked Post')], max_length=32)),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('comment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='community_engagement_logs', to='community.comment')),
            ],
            options={
                'verbose_name_plural': 'Community Engagement Logs',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CommunitySection',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('badge', models.CharField(blank=True, help_text='Small badge text shown above the title (e.g. Join Our Community)', max_length=255)),
                ('title_main', models.CharField(help_text='Primary title text (before the highlighted part)', max_length=255)),
                ('title_highlight', models.CharField(blank=True, help_text='Highlighted part of the title shown in gradient', max_length=255)),
                ('description', models.TextField(blank=True)),
                ('image', models.ImageField(blank=True, null=True, upload_to='community/hero/')),
                ('stat1_value', models.CharField(blank=True, help_text='Stat 1 value (e.g. 95%)', max_length=64)),
                ('stat1_label', models.CharField(blank=True, help_text='Stat 1 label (e.g. Growth Rate)', max_length=128)),
                ('stat2_value', models.CharField(blank=True, help_text='Stat 2 value (e.g. 1M+)', max_length=64)),
                ('stat2_label', models.CharField(blank=True, help_text='Stat 2 label (e.g. Members)', max_length=128)),
                ('stat3_value', models.CharField(blank=True, help_text='Stat 3 value (e.g. 50+)', max_length=64)),
                ('stat3_label', models.CharField(blank=True, help_text='Stat 3 label (e.g. Countries)', max_length=128)),
                ('card1_title', models.CharField(blank=True, max_length=255)),
                ('card1_description', models.TextField(blank=True)),
                ('card1_feature_1', models.CharField(blank=True, max_length=255)),
                ('card1_feature_2', models.CharField(blank=True, max_length=255)),
                ('card2_title', models.CharField(blank=True, max_length=255)),
                ('card2_description', models.TextField(blank=True)),
                ('card2_feature_1', models.CharField(blank=True, max_length=255)),
                ('card2_feature_2', models.CharField(blank=True, max_length=255)),
                ('cta_label', models.CharField(blank=True, max_length=255)),
                ('cta_url', models.URLField(blank=True)),
                ('is_published', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CorporateOpportunity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('opportunity_type', models.CharField(choices=[('job', 'Job'), ('internship', 'Internship'), ('event', 'Event'), ('project', 'Project')], max_length=20)),
                ('status', models.CharField(choices=[('open', 'Open'), ('closed', 'Closed'), ('filled', 'Filled'), ('draft', 'Draft')], default='open', max_length=20)),
                ('location', models.CharField(blank=True, max_length=255)),
                ('remote_friendly', models.BooleanField(default=True)),
                ('salary_min', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('salary_max', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('salary_currency', models.CharField(default='USD', max_length=3)),
                ('deadline', models.DateTimeField(blank=True, null=True)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('requirements', models.TextField(blank=True, help_text='Comma-separated list of requirements')),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('application_count', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('creator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='opportunities', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CorporateVerification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('company_name', models.CharField(max_length=255)),
                ('registration_number', models.CharField(max_length=100)),
                ('official_website', models.URLField(blank=True)),
                ('industry', models.CharField(blank=True, max_length=255)),
                ('contact_person_title', models.CharField(blank=True, max_length=100)),
                ('contact_phone', models.CharField(blank=True, max_length=30)),
                ('business_description', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('submitted_at', models.DateTimeField(auto_now_add=True)),
                ('reviewed_at', models.DateTimeField(blank=True, null=True)),
                ('review_reason', models.TextField(blank=True)),
                ('business_registration_doc', models.FileField(blank=True, null=True, upload_to='corporate_verification/documents/')),
                ('tax_certificate_doc', models.FileField(blank=True, null=True, upload_to='corporate_verification/documents/')),
                ('additional_docs', models.JSONField(blank=True, default=list, help_text='Additional document URLs/metadata')),
                ('user', models.OneToOneField(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_corporate_verification', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='CTABanner',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('badge', models.CharField(blank=True, help_text='Small label above the title (e.g. Ready to Get Started?)', max_length=255)),
                ('title_main', models.CharField(help_text='Primary title text', max_length=255)),
                ('title_highlight', models.CharField(blank=True, help_text='Highlighted part of the title', max_length=255)),
                ('description', models.TextField(blank=True)),
                ('primary_cta_label', models.CharField(blank=True, max_length=255)),
                ('primary_cta_url', models.URLField(blank=True)),
                ('secondary_cta_label', models.CharField(blank=True, max_length=255)),
                ('secondary_cta_url', models.URLField(blank=True)),
                ('feature1_title', models.CharField(blank=True, max_length=128)),
                ('feature1_subtitle', models.CharField(blank=True, max_length=255)),
                ('feature2_title', models.CharField(blank=True, max_length=128)),
                ('feature2_subtitle', models.CharField(blank=True, max_length=255)),
                ('feature3_title', models.CharField(blank=True, max_length=128)),
                ('feature3_subtitle', models.CharField(blank=True, max_length=255)),
                ('is_published', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Group',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('category', models.CharField(max_length=100)),
                ('is_corporate_group', models.BooleanField(default=False)),
                ('is_private', models.BooleanField(default=False)),
                ('banner_url', models.URLField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('courses', models.ManyToManyField(blank=True, related_name='community_groups', to='courses.course')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_created_groups', to=settings.AUTH_USER_MODEL)),
                ('moderators', models.ManyToManyField(blank=True, related_name='moderated_groups', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='PlatformAnalytics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(auto_now_add=True, unique=True)),
                ('total_users', models.PositiveIntegerField(default=0)),
                ('active_users_today', models.PositiveIntegerField(default=0)),
                ('new_users_today', models.PositiveIntegerField(default=0)),
                ('posts_created', models.PositiveIntegerField(default=0)),
                ('comments_created', models.PositiveIntegerField(default=0)),
                ('likes_count', models.PositiveIntegerField(default=0)),
                ('mentions_count', models.PositiveIntegerField(default=0)),
                ('subscriptions_active', models.PositiveIntegerField(default=0)),
                ('mrr', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Post',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, max_length=255)),
                ('content', models.TextField()),
                ('post_category', models.CharField(choices=[('general', 'General Discussion'), ('announcement', 'Announcement'), ('event', 'Event'), ('job_posting', 'Job Posting'), ('resource', 'Resource'), ('question', 'Question')], default='general', max_length=50)),
                ('feed_visibility', models.CharField(choices=[('group_only', 'Group only'), ('public_global', 'Public global'), ('private', 'Private (only author)')], default='group_only', max_length=20)),
                ('media_urls', models.JSONField(blank=True, default=list)),
                ('link_previews', models.JSONField(blank=True, default=list)),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('engagement_score', models.FloatField(default=0.0)),
                ('ranking_score', models.FloatField(default=0.0)),
                ('is_sponsored', models.BooleanField(default=False)),
                ('is_featured', models.BooleanField(default=False)),
                ('is_pinned', models.BooleanField(default=False)),
                ('is_approved', models.BooleanField(default=True)),
                ('moderation_status', models.CharField(default='approved', max_length=20)),
                ('moderation_reason', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('last_activity_at', models.DateTimeField(auto_now_add=True)),
                ('author', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_posts', to=settings.AUTH_USER_MODEL)),
                ('group', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='posts', to='community.group')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SubscriptionTier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tier_type', models.CharField(choices=[('individual', 'Individual - $1/month'), ('facilitator', 'Facilitator - $5/month'), ('corporate', 'Corporate - $500/year'), ('free', 'Free')], max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('duration_days', models.IntegerField(default=30)),
                ('max_posts_per_day', models.IntegerField(default=10)),
                ('can_create_groups', models.BooleanField(default=True)),
                ('can_sponsor_posts', models.BooleanField(default=False)),
                ('can_post_opportunities', models.BooleanField(default=False)),
                ('can_collaborate', models.BooleanField(default=False)),
                ('priority_feed_ranking', models.IntegerField(default=1)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'ordering': ['price'],
            },
        ),
        migrations.CreateModel(
            name='TrendingTopic',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('topic', models.CharField(max_length=255, unique=True)),
                ('mention_count', models.PositiveIntegerField(default=1)),
                ('engagement_score', models.FloatField(default=0.0)),
                ('last_mentioned', models.DateTimeField(auto_now=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['-engagement_score'],
            },
        ),
        migrations.CreateModel(
            name='WithdrawalRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('bank_name', models.CharField(max_length=255)),
                ('account_number', models.CharField(max_length=50)),
                ('account_name', models.CharField(max_length=255)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('completed', 'Completed')], default='pending', max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('processed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='withdrawal_requests', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='UserReputation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reputation_score', models.IntegerField(default=0)),
                ('activity_level', models.CharField(choices=[('inactive', 'Inactive'), ('novice', 'Novice'), ('active', 'Active'), ('power_user', 'Power User'), ('community_leader', 'Community Leader')], default='novice', max_length=20)),
                ('badges', models.JSONField(blank=True, default=list)),
                ('total_posts', models.IntegerField(default=0)),
                ('total_comments', models.IntegerField(default=0)),
                ('total_likes_received', models.IntegerField(default=0)),
                ('total_engagement_actions', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='reputation', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'User Reputations',
            },
        ),
        migrations.CreateModel(
            name='UserEngagementScore',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_posts', models.PositiveIntegerField(default=0)),
                ('total_likes_received', models.PositiveIntegerField(default=0)),
                ('total_comments_received', models.PositiveIntegerField(default=0)),
                ('total_mentions', models.PositiveIntegerField(default=0)),
                ('facilitator_authority_score', models.FloatField(default=0.0)),
                ('corporate_campaign_score', models.FloatField(default=0.0)),
                ('engagement_score', models.FloatField(default=0.0)),
                ('last_activity', models.DateTimeField(auto_now=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='engagement_score', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-engagement_score'],
            },
        ),
        migrations.CreateModel(
            name='UserActivity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_active', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='activity', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'User Activities',
            },
        ),
        migrations.CreateModel(
            name='SponsoredPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('active', 'Active'), ('paused', 'Paused'), ('ended', 'Ended'), ('expired', 'Expired')], default='draft', max_length=20)),
                ('budget', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(10)])),
                ('daily_budget', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('spent', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('promotion_level', models.IntegerField(default=5, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(10)])),
                ('start_date', models.DateTimeField()),
                ('end_date', models.DateTimeField()),
                ('impressions', models.PositiveIntegerField(default=0)),
                ('clicks', models.PositiveIntegerField(default=0)),
                ('ctr', models.FloatField(default=0.0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('creator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sponsored_posts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='PostAttachment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(upload_to='community/post_media/')),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('post', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='attachments', to='community.post')),
            ],
        ),
        migrations.AddField(
            model_name='post',
            name='sponsored_campaign',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='posts', to='community.sponsoredpost'),
        ),
        migrations.CreateModel(
            name='PartnerDirectory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('industry_tags', models.JSONField(default=list)),
                ('services', models.JSONField(default=list)),
                ('achievements', models.JSONField(default=list)),
                ('social_links', models.JSONField(default=dict)),
                ('showcase_images', models.JSONField(default=list)),
                ('featured', models.BooleanField(default=False)),
                ('verified', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('company', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='directory_listing', to='community.corporateverification')),
            ],
            options={
                'verbose_name_plural': 'Partner Directory',
            },
        ),
        migrations.CreateModel(
            name='OpportunityApplication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('applied', 'Applied'), ('reviewed', 'Reviewed'), ('shortlisted', 'Shortlisted'), ('rejected', 'Rejected'), ('accepted', 'Accepted')], default='applied', max_length=20)),
                ('cover_letter', models.TextField(blank=True)),
                ('resume_url', models.URLField(blank=True)),
                ('rejection_reason', models.TextField(blank=True, null=True)),
                ('reviewer_notes', models.TextField(blank=True)),
                ('applied_at', models.DateTimeField(auto_now_add=True)),
                ('status_updated_at', models.DateTimeField(auto_now=True)),
                ('reviewed_at', models.DateTimeField(blank=True, null=True)),
                ('approved_notification_sent', models.BooleanField(default=False)),
                ('rejected_notification_sent', models.BooleanField(default=False)),
                ('applicant', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='opportunity_applications', to=settings.AUTH_USER_MODEL)),
                ('opportunity', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='applications', to='community.corporateopportunity')),
                ('reviewed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_applications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-applied_at'],
            },
        ),
        migrations.CreateModel(
            name='MentionLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('comment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='mentions', to='community.comment')),
                ('mentioned_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mentions_made', to=settings.AUTH_USER_MODEL)),
                ('mentioned_user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mentions_in_posts', to=settings.AUTH_USER_MODEL)),
                ('post', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='mentions', to='community.post')),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='GroupMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('joined_at', models.DateTimeField(auto_now_add=True)),
                ('group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='memberships', to='community.group')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_group_memberships', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='GroupInvite',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('invited_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('token', models.CharField(default=community.models.generate_invite_token, max_length=64, unique=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('revoked', 'Revoked'), ('expired', 'Expired')], default='pending', max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('accepted_at', models.DateTimeField(blank=True, null=True)),
                ('accepted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='accepted_group_invites', to=settings.AUTH_USER_MODEL)),
                ('group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='invites', to='community.group')),
                ('invited_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sent_group_invites', to=settings.AUTH_USER_MODEL)),
                ('invited_user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='received_group_invites', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EngagementNotification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('notification_type', models.CharField(choices=[('post_liked', 'Your post was liked'), ('post_commented', 'Someone commented on your post'), ('comment_liked', 'Your comment was liked'), ('comment_replied', 'Someone replied to your comment'), ('post_mentioned', 'You were mentioned in a post'), ('comment_mentioned', 'You were mentioned in a comment'), ('group_update', 'New activity in your group')], max_length=32)),
                ('in_app_sent', models.BooleanField(default=False)),
                ('email_sent', models.BooleanField(default=False)),
                ('read', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
                ('engagement_log', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to='community.communityengagementlog')),
                ('triggered_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='engagement_notifications_sent', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='engagement_notifications', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CorporateMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('subject', models.CharField(max_length=200)),
                ('body', models.TextField()),
                ('is_read', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='received_corporate_messages', to=settings.AUTH_USER_MODEL)),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sent_corporate_messages', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CorporateConnection',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('message', models.TextField(blank=True)),
                ('connected_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('receiver', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='received_connections', to=settings.AUTH_USER_MODEL)),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sent_connections', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddField(
            model_name='communityengagementlog',
            name='group',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='community_engagement_logs', to='community.group'),
        ),
        migrations.AddField(
            model_name='communityengagementlog',
            name='mentioned_user',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mentions_received', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='communityengagementlog',
            name='post',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='community_engagement_logs', to='community.post'),
        ),
        migrations.AddField(
            model_name='communityengagementlog',
            name='user',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='community_engagement_logs', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='CommentReaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('comment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reactions', to='community.comment')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='comment_reactions', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddField(
            model_name='comment',
            name='post',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comments', to='community.post'),
        ),
        migrations.CreateModel(
            name='CollaborationRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('collaboration_type', models.CharField(choices=[('partnership', 'Partnership'), ('mentorship', 'Mentorship'), ('project', 'Project'), ('event', 'Event')], max_length=20)),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('accepted', 'Accepted'), ('declined', 'Declined'), ('active', 'Active'), ('completed', 'Completed')], default='pending', max_length=20)),
                ('proposed_start', models.DateTimeField(blank=True, null=True)),
                ('proposed_end', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('responded_at', models.DateTimeField(blank=True, null=True)),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='collaboration_requests_received', to=settings.AUTH_USER_MODEL)),
                ('requester', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='collaboration_requests_sent', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='PostReaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reaction_type', models.CharField(choices=[('like', 'Like'), ('love', 'Love'), ('celebrate', 'Celebrate'), ('support', 'Support'), ('insightful', 'Insightful'), ('funny', 'Funny')], max_length=32)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reactions', to='community.post')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='post_reactions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'unique_together': {('post', 'user')},
            },
        ),
        migrations.CreateModel(
            name='PostBookmark',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('post', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bookmarks', to='community.post')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bookmarks', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'unique_together': {('post', 'user')},
            },
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['-created_at'], name='community_p_created_6febb2_idx'),
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['-ranking_score'], name='community_p_ranking_5613c2_idx'),
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['author', '-created_at'], name='community_p_author__c7cd0c_idx'),
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['group', '-created_at'], name='community_p_group_i_f2b7bd_idx'),
        ),
        migrations.AddIndex(
            model_name='opportunityapplication',
            index=models.Index(fields=['opportunity', 'status'], name='community_o_opportu_6f6c96_idx'),
        ),
        migrations.AddIndex(
            model_name='opportunityapplication',
            index=models.Index(fields=['applicant', 'status'], name='community_o_applica_04041e_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='opportunityapplication',
            unique_together={('applicant', 'opportunity')},
        ),
        migrations.AddIndex(
            model_name='mentionlog',
            index=models.Index(fields=['mentioned_user', '-created_at'], name='community_m_mention_37161d_idx'),
        ),
        migrations.AddIndex(
            model_name='mentionlog',
            index=models.Index(fields=['post', 'mentioned_user'], name='community_m_post_id_8e170c_idx'),
        ),
        migrations.AddIndex(
            model_name='mentionlog',
            index=models.Index(fields=['comment', 'mentioned_user'], name='community_m_comment_51ed77_idx'),
        ),
        migrations.AddIndex(
            model_name='engagementnotification',
            index=models.Index(fields=['user', '-created_at'], name='community_e_user_id_9e1e58_idx'),
        ),
        migrations.AddIndex(
            model_name='engagementnotification',
            index=models.Index(fields=['user', 'read', '-created_at'], name='community_e_user_id_f815f9_idx'),
        ),
        migrations.AddIndex(
            model_name='corporatemessage',
            index=models.Index(fields=['recipient', '-created_at'], name='community_c_recipie_39294c_idx'),
        ),
        migrations.AddIndex(
            model_name='corporatemessage',
            index=models.Index(fields=['sender', '-created_at'], name='community_c_sender__5057bf_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='corporateconnection',
            unique_together={('sender', 'receiver')},
        ),
        migrations.AddIndex(
            model_name='communityengagementlog',
            index=models.Index(fields=['user', '-created_at'], name='community_c_user_id_7123e5_idx'),
        ),
        migrations.AddIndex(
            model_name='communityengagementlog',
            index=models.Index(fields=['action_type', '-created_at'], name='community_c_action__b1c83b_idx'),
        ),
        migrations.AddIndex(
            model_name='communityengagementlog',
            index=models.Index(fields=['post', 'action_type'], name='community_c_post_id_8f9174_idx'),
        ),
        migrations.AddIndex(
            model_name='communityengagementlog',
            index=models.Index(fields=['mentioned_user', '-created_at'], name='community_c_mention_0c3d14_idx'),
        ),
        migrations.AddIndex(
            model_name='communityengagementlog',
            index=models.Index(fields=['user', 'action_type', '-created_at'], name='community_c_user_id_001da0_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='commentreaction',
            unique_together={('comment', 'user')},
        ),
        migrations.AlterUniqueTogether(
            name='collaborationrequest',
            unique_together={('requester', 'recipient', 'collaboration_type', 'title')},
        ),
    ]
